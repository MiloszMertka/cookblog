<article *ngIf="recipe$ | async as recipe" class="article">
  <h1 class="title">{{ recipe.title }}</h1>
  <ul class="info">
    <li *ngIf="recipe.preparationTimeInMinutes">
      Preparation time:
      <strong>{{ recipe.preparationTimeInMinutes }} min.</strong>
    </li>
    <li *ngIf="recipe.calorificValue">
      Calories: <strong>{{ recipe.calorificValue }} kcal</strong>
    </li>
    <li *ngIf="recipe.portions">
      Portions: <strong>{{ recipe.portions }}</strong>
    </li>
  </ul>
  <p>{{ recipe.description }}</p>
  <h2>Ingredients:</h2>
  <ul class="ingredients">
    <li *ngFor="let ingredient of recipe.ingredients" class="ingredient">
      <mat-icon [inline]="true" class="icon">checkmark</mat-icon>
      <span>
        <span>{{ ingredient.name }}</span>
        <span>
          {{ ingredient.quantity.amount }}
          <span class="unit">{{
            ingredient.quantity.unit | formatUnit
          }}</span></span
        >
      </span>
    </li>
  </ul>
  <h2>Instructions:</h2>
  <p>{{ recipe.instructions }}</p>
  <h2>Comments:</h2>
  <ul class="comments">
    <li *ngFor="let comment of recipe.comments" class="comment">
      <span class="author">{{ comment.author }}</span>
      <p>{{ comment.content }}</p>
    </li>
  </ul>
  <h2>Your comment:</h2>
  <form
    (submit)="handleCommentSubmit($event)"
    [formGroup]="commentForm"
    class="comment-form"
  >
    <mat-form-field appearance="outline">
      <mat-label>Author</mat-label>
      <input formControlName="author" matInput type="text" />
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Content</mat-label>
      <textarea formControlName="content" matInput rows="3"></textarea>
    </mat-form-field>
    <button class="button" color="primary" mat-raised-button type="submit">
      Add comment
    </button>
  </form>
</article>
